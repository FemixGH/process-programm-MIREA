#include <iostream>// istream ostream
#include <string>//для класса string
using namespace std;
int main() {
	setlocale(0, "");//задаём локаль для программы
	int M, zn = 0, ch = 0, s, q, N;//вводим перемнные int
	int a[5][5];//создаем двумерный массив
	cout << "Введимте M от 2 до 5: ";//выводим текст
	do {
		cin >> M;//считываем переменную M
		if (M < 2 || M > 5) {//проверка ввода для диапазона значений
			cout << "Неверный ввод. Попробуйте еще раз: ";//выводим текст
			cin.clear();
			cin.ignore(1000000, '\n');
		}
	} while (M < 2 || M > 5);//цикл пока не будет введено правильное значение
	cout << "Выберите как ввести значения в матрицу: " << endl;
	cout << "1 - самостоятельно" << endl;
	cout << "2 - автоматически" << endl;
	do {
		cin >> ch;//считываем переменную ch
		if (ch < 1 || ch > 2) {//проверка ввода для диапазона значений
			cout << "Неверный ввод. Попробуйте еще раз: ";//выводим текст
			cin.clear();
			cin.ignore(1000000, '\n');
		}
	} while (ch < 1 || ch > 2);//цикл пока не будет введено правильное значение
	switch (ch) {//проверка введенного значения
	case 1://если введено значение 1
		for (int i = 0; i < M; i++) {//циклическая внешняя матрица (строка)
			for (int j = 0; j < M; j++) {//циклическая внешняя матрица (столбец)
				cout << "Вводите числа числа для заполнения матрицы: ";
				do {
						cin >> s;//вводим переменную s
						if (s < 0 || s > 100) {//проверка переменой s
							cout << "Неверный ввод. Попробуйте еще раз: "; //ввыводим текст
							cin.clear();
							cin.ignore(1000000, '\n');
						}
					} while (s < 0 || s > 100);//цикл пока не будет введено верное значение
				a[i][j] = s;//присваиваем значение массиву
			}
		}
		break;
	case 2://если введено значение 2
		for (int i = 0; i < M; i++) {//циклическая внешняя матрица (строка)
			for (int j = 0; j < M; j++) {//циклическая внешняя матрица (столбец)
				zn = 0 + rand() % 100;//присваеваем переменной значение
				a[i][j] = zn;//заполнение массива
			}
		}
		break;
	}	//цикл для сортировки строки в массиве по возврастанию
	for (int k = 0; k < M; k++)//k - номер текущей строки
	{
		for (int i = 0; i < M; i++)//циклическая внешняя матрица (строка)
		{
			for (int j = M - 1; j > i; j--)//циклическая внешняя матрица (столбец)
				if (a[k][j] < a[k][j - 1])//сравнение элементов массива
				{
					int tmp = a[k][j];//инициализирование временной переменной
					a[k][j] = a[k][j - 1];//присваивание значения элементу
					a[k][j - 1] = tmp;//присваивание значения переменной
				}
		}
	}
	//вывод отсортированной матрицы
	for (int i = 0; i < M; i++) {//циклическая внешняя матрица (строка)
		for (int j = 0; j < M; j++) {//циклическая внешняя матрица (столбец)
			cout.width(6);//отступы между элементами матрицы
			cout << a[i][j];//выводим значение матрицы
		}
		cout << endl;//переход на новую строчку при выводе
	}
	cout << "Введите номер строки для поиска: ";//ввод номера строки
	do{
		cin >> q;//присваивание номера строки переменной
		if (q < 1 || q > M) {
			cout << "Неверный ввод. Попробуйте еще раз: ";//ввыдим текст
			cin.clear();
			cin.ignore(1000000, '\n');
		}
	} while (q < 1 || q > M);//цикл пока не будет введено правильное значение
	
	cout << "Введите N-ный минимум в заданной строке: ";//ввод N-ого минимума 
	do {
		cin >> N;//присваивание N-ого минимума переменной
		if (N < 1 || N > M) {
			cout << "Неверный ввод. Попробуйте еще раз: ";//выводим текст
			cin.clear();
			cin.ignore(1000000, '\n');
		}
	} while (N < 1 || N > M);//цикл пока не будет введено правильное значение
	cout << endl;//переход на новую строчку
	cout << a[q-1][N-1]<<endl;//вывод N-ного минимума в заданной строке
	system("pause");//ставим систему на паузу
}

